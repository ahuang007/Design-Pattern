
# Proxy 模式

## 问题

* 至少在一下几种情况下 可以用 Proxy 模式来解决问题：
	1. 创建开销大的对象时候，比如显示一幅大的图片，我们将这个创建的过程交给代理去完成，GoF 称之为虚代理（Virtual Proxy）；
	2. 为网络上的对象创建一个局部的本地代理，比如要操作一个网络上的对象（网络性能不好的时候，问题尤其突出），我们将这个操纵的过程交给一个代理去完成，GoF 称之为远程代理（Remote Proxy）；
	3. 对对象进行控制访问的时候，比如在论坛中不同权限的访问（如管理员、普通用户等）将获得不同层次的操作权限，我们将这个工作交给一个代理去完成，GoF 称之为保护代理（Protection Proxy）；
	4. 智能指针（Smart Pointer），关于这个方面的内容，建议参看 Andrew Koenig 的《C++ 沉思录》中的第 5 章。

## 代码说明

* Proxy 模式的实现很简答，这里不做多余的解释。可以看到，示例代码运行后，p 的 Request 请求实际上市交给了 sub 来实际执行。

## 讨论

* Proxy 模式最大的好处就是实现了逻辑和实现的彻底解耦。